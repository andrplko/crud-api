(()=>{var e={696:(e,t,n)=>{const r=n(58),s=n(72),o=n(558),i=n(968),a=n(404).version,c=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function l(e){console.log(`[dotenv@${a}][DEBUG] ${e}`)}function d(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function p(e,t){let n;try{n=new URL(t)}catch(e){if("ERR_INVALID_URL"===e.code){const e=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenv.org/vault/.env.vault?environment=development");throw e.code="INVALID_DOTENV_KEY",e}throw e}const r=n.password;if(!r){const e=new Error("INVALID_DOTENV_KEY: Missing key part");throw e.code="INVALID_DOTENV_KEY",e}const s=n.searchParams.get("environment");if(!s){const e=new Error("INVALID_DOTENV_KEY: Missing environment part");throw e.code="INVALID_DOTENV_KEY",e}const o=`DOTENV_VAULT_${s.toUpperCase()}`,i=e.parsed[o];if(!i){const e=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${o} in your .env.vault file.`);throw e.code="NOT_FOUND_DOTENV_ENVIRONMENT",e}return{ciphertext:i,key:r}}function u(e){let t=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(const n of e.path)r.existsSync(n)&&(t=n.endsWith(".vault")?n:`${n}.vault`);else t=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else t=s.resolve(process.cwd(),".env.vault");return r.existsSync(t)?t:null}const f={configDotenv:function(e){let t=s.resolve(process.cwd(),".env"),n="utf8";const i=Boolean(e&&e.debug);if(e){if(null!=e.path){let n=e.path;if(Array.isArray(n))for(const t of e.path)if(r.existsSync(t)){n=t;break}t=function(e){return"~"===e[0]?s.join(o.homedir(),e.slice(1)):e}(n)}null!=e.encoding?n=e.encoding:i&&l("No encoding is specified. UTF-8 is used by default")}try{const s=f.parse(r.readFileSync(t,{encoding:n}));let o=process.env;return e&&null!=e.processEnv&&(o=e.processEnv),f.populate(o,s,e),{parsed:s}}catch(e){return i&&l(`Failed to load ${t} ${e.message}`),{error:e}}},_configVault:function(e){console.log(`[dotenv@${a}][INFO] Loading env from encrypted .env.vault`);const t=f._parseVault(e);let n=process.env;return e&&null!=e.processEnv&&(n=e.processEnv),f.populate(n,t,e),{parsed:t}},_parseVault:function(e){const t=u(e),n=f.configDotenv({path:t});if(!n.parsed){const e=new Error(`MISSING_DATA: Cannot parse ${t} for an unknown reason`);throw e.code="MISSING_DATA",e}const r=d(e).split(","),s=r.length;let o;for(let e=0;e<s;e++)try{const t=p(n,r[e].trim());o=f.decrypt(t.ciphertext,t.key);break}catch(t){if(e+1>=s)throw t}return f.parse(o)},config:function(e){if(0===d(e).length)return f.configDotenv(e);const t=u(e);return t?f._configVault(e):(n=`You set DOTENV_KEY but you are missing a .env.vault file at ${t}. Did you forget to build it?`,console.log(`[dotenv@${a}][WARN] ${n}`),f.configDotenv(e));var n},decrypt:function(e,t){const n=Buffer.from(t.slice(-64),"hex");let r=Buffer.from(e,"base64");const s=r.subarray(0,12),o=r.subarray(-16);r=r.subarray(12,-16);try{const e=i.createDecipheriv("aes-256-gcm",n,s);return e.setAuthTag(o),`${e.update(r)}${e.final()}`}catch(e){const t=e instanceof RangeError,n="Invalid key length"===e.message,r="Unsupported state or unable to authenticate data"===e.message;if(t||n){const e=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw e.code="INVALID_DOTENV_KEY",e}if(r){const e=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw e.code="DECRYPTION_FAILED",e}throw e}},parse:function(e){const t={};let n,r=e.toString();for(r=r.replace(/\r\n?/gm,"\n");null!=(n=c.exec(r));){const e=n[1];let r=n[2]||"";r=r.trim();const s=r[0];r=r.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),'"'===s&&(r=r.replace(/\\n/g,"\n"),r=r.replace(/\\r/g,"\r")),t[e]=r}return t},populate:function(e,t,n={}){const r=Boolean(n&&n.debug),s=Boolean(n&&n.override);if("object"!=typeof t){const e=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw e.code="OBJECT_REQUIRED",e}for(const n of Object.keys(t))Object.prototype.hasOwnProperty.call(e,n)?(!0===s&&(e[n]=t[n]),r&&l(!0===s?`"${n}" is already defined and WAS overwritten`:`"${n}" is already defined and was NOT overwritten`)):e[n]=t[n]}};e.exports.configDotenv=f.configDotenv,e.exports._configVault=f._configVault,e.exports._parseVault=f._parseVault,e.exports.config=f.config,e.exports.decrypt=f.decrypt,e.exports.parse=f.parse,e.exports.populate=f.populate,e.exports=f},616:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteUserById=t.updateUser=t.createNewUser=t.getUsers=t.getUserById=t.handleServerSideError=t.handleNonExistingEndpoints=void 0;const r=n(940),s=n(876);t.handleNonExistingEndpoints=(e,t)=>{t.writeHead(404,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:`API not found at ${e.url}`}))},t.handleServerSideError=(e,t)=>{t.writeHead(500,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:"Internal server error"}))},t.getUsers=(e,t)=>{t.writeHead(200,{"Content-Type":"application/json"}),t.write(JSON.stringify({data:r.users})),t.end()},t.getUserById=(e,t,n)=>{const o=r.users.find((t=>t.id===e));o?(n.writeHead(200,{"Content-Type":"application/json"}),n.end(JSON.stringify(o))):(0,s.validate)(e)?(n.writeHead(404,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:"User not found"}))):(n.writeHead(400,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:"Incorrect user id"})))},t.createNewUser=(e,t)=>{let n="";e.on("data",(e=>{n+=e})),e.on("end",(()=>{const{username:e,age:o,hobbies:i}=JSON.parse(n);if(!e||!o||!i)return t.writeHead(400,{"Content-Type":"application/json"}),void t.end(JSON.stringify({message:"Missing required fields"}));const a={id:(0,s.v4)(),username:e,age:o,hobbies:i};r.users.push(a),t.writeHead(201,{"Content-Type":"application/json"}),t.end(JSON.stringify(a))}))},t.updateUser=(e,t,n)=>{const o=r.users.find((t=>t.id===e));let i="";t.on("data",(e=>{i+=e})),t.on("end",(()=>{const t=JSON.parse(i);if(o){const e=r.users.indexOf(o),s={...o,...t};r.users[e]=s,n.writeHead(200,{"Content-Type":"application/json"}),n.end(JSON.stringify(s))}else(0,s.validate)(e)?(n.writeHead(404,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:"User not found"}))):(n.writeHead(400,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:"Incorrect user id"})))}))},t.deleteUserById=(e,t,n)=>{const o=r.users.findIndex((t=>t.id===e));if(-1!==o){const e=r.users.splice(o,1)[0];n.writeHead(204,{"Content-Type":"application/json"}),n.end(JSON.stringify(e))}else(0,s.validate)(e)?(n.writeHead(404,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:"User not found"}))):(n.writeHead(400,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:"Incorrect user id"})))}},940:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.users=void 0,t.users=[]},740:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.server=void 0;const s=n(696),o=r(n(136)),i=n(616);(0,s.config)();const a=process.env.PORT;t.server=o.default.createServer(((e,t)=>{const n=e.url,r=e.method;try{switch(r){case"GET":if("/api/users"===n)(0,i.getUsers)(e,t);else if(n?.startsWith("/api/users/")){const r=n.split("/")[3];(0,i.getUserById)(r,e,t)}else(0,i.handleNonExistingEndpoints)(e,t);break;case"POST":"/api/users"===n?(0,i.createNewUser)(e,t):(0,i.handleNonExistingEndpoints)(e,t);break;case"PUT":if(n?.startsWith("/api/users/")){const r=n.split("/")[3];(0,i.updateUser)(r,e,t)}else(0,i.handleNonExistingEndpoints)(e,t);break;case"DELETE":if(n?.startsWith("/api/users/")){const r=n.split("/")[3];(0,i.deleteUserById)(r,e,t)}else(0,i.handleNonExistingEndpoints)(e,t);break;default:throw new Error("Invalid request method")}}catch{(0,i.handleServerSideError)(e,t)}})),t.server.listen(a,(()=>{console.log(`Server is listening on port ${a}`)}))},876:(e,t,n)=>{"use strict";n.r(t),n.d(t,{NIL:()=>_,parse:()=>E,stringify:()=>u,v1:()=>h,v3:()=>N,v4:()=>b,v5:()=>I,validate:()=>l,version:()=>O});var r=n(968),s=n.n(r);const o=new Uint8Array(256);let i=o.length;function a(){return i>o.length-16&&(s().randomFillSync(o),i=0),o.slice(i,i+=16)}const c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,l=function(e){return"string"==typeof e&&c.test(e)},d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));function p(e,t=0){return d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]}const u=function(e,t=0){const n=p(e,t);if(!l(n))throw TypeError("Stringified UUID is invalid");return n};let f,g,v=0,y=0;const h=function(e,t,n){let r=t&&n||0;const s=t||new Array(16);let o=(e=e||{}).node||f,i=void 0!==e.clockseq?e.clockseq:g;if(null==o||null==i){const t=e.random||(e.rng||a)();null==o&&(o=f=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==i&&(i=g=16383&(t[6]<<8|t[7]))}let c=void 0!==e.msecs?e.msecs:Date.now(),l=void 0!==e.nsecs?e.nsecs:y+1;const d=c-v+(l-y)/1e4;if(d<0&&void 0===e.clockseq&&(i=i+1&16383),(d<0||c>v)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=c,y=l,g=i,c+=122192928e5;const u=(1e4*(268435455&c)+l)%4294967296;s[r++]=u>>>24&255,s[r++]=u>>>16&255,s[r++]=u>>>8&255,s[r++]=255&u;const h=c/4294967296*1e4&268435455;s[r++]=h>>>8&255,s[r++]=255&h,s[r++]=h>>>24&15|16,s[r++]=h>>>16&255,s[r++]=i>>>8|128,s[r++]=255&i;for(let e=0;e<6;++e)s[r+e]=o[e];return t||p(s)},E=function(e){if(!l(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};function m(e,t,n){function r(e,r,s,o){var i;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=E(r)),16!==(null===(i=r)||void 0===i?void 0:i.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+e.length);if(a.set(r),a.set(e,r.length),a=n(a),a[6]=15&a[6]|t,a[8]=63&a[8]|128,s){o=o||0;for(let e=0;e<16;++e)s[o+e]=a[e];return s}return p(a)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}const N=m("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),s().createHash("md5").update(e).digest()})),w={randomUUID:s().randomUUID},b=function(e,t,n){if(w.randomUUID&&!t&&!e)return w.randomUUID();const r=(e=e||{}).random||(e.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return p(r)},I=m("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),s().createHash("sha1").update(e).digest()})),_="00000000-0000-0000-0000-000000000000",O=function(e){if(!l(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},968:e=>{"use strict";e.exports=require("crypto")},58:e=>{"use strict";e.exports=require("fs")},136:e=>{"use strict";e.exports=require("http")},558:e=>{"use strict";e.exports=require("os")},72:e=>{"use strict";e.exports=require("path")},404:e=>{"use strict";e.exports=JSON.parse('{"name":"dotenv","version":"16.4.1","description":"Loads environment variables from .env file","main":"lib/main.js","types":"lib/main.d.ts","exports":{".":{"types":"./lib/main.d.ts","require":"./lib/main.js","default":"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},"scripts":{"dts-check":"tsc --project tests/types/tsconfig.json","lint":"standard","lint-readme":"standard-markdown","pretest":"npm run lint && npm run dts-check","test":"tap tests/*.js --100 -Rspec","prerelease":"npm test","release":"standard-version"},"repository":{"type":"git","url":"git://github.com/motdotla/dotenv.git"},"funding":"https://github.com/motdotla/dotenv?sponsor=1","keywords":["dotenv","env",".env","environment","variables","config","settings"],"readmeFilename":"README.md","license":"BSD-2-Clause","devDependencies":{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3","decache":"^4.6.1","sinon":"^14.0.1","standard":"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0","tap":"^16.3.0","tar":"^6.1.11","typescript":"^4.8.4"},"engines":{"node":">=12"},"browser":{"fs":false}}')}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(740)})();